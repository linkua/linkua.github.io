<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Excerpt">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="Excerpt">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Linkua">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Excerpt</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Excerpt</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-clock">

    <a href="/clock/" rel="section"><i class="fas fa-clock fa-fw"></i>clock</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/03/23/onenet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Linkua">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Excerpt">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/03/23/onenet/" class="post-title-link" itemprop="url">OneNET</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-03-23 00:00:00" itemprop="dateCreated datePublished" datetime="2024-03-23T00:00:00+08:00">2024-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-25 14:47:11" itemprop="dateModified" datetime="2024-04-25T14:47:11+08:00">2024-04-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MCU/" itemprop="url" rel="index"><span itemprop="name">MCU</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="MQTT"><a href="#MQTT" class="headerlink" title="MQTT"></a>MQTT</h3><p>设备接入支持标准MQTTV3.1.1版本，支持TLS加密，接入服务地址如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MQTT协议 &#x27;mqtts.heclouds.com:1883&#x27;</span><br></pre></td></tr></table></figure>
<p>设备可通过MQTT connnect报文进行登录，connect报文中三要素填写方法如下：</p>
<p>参数	是否必须	参数说明<br>clientId	是	设备名称<br>username	是	平台分配的产品ID<br>password	是	填写经过 key 计算的 token</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/03/23/onenet/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/03/09/f1c200s%E5%BC%80%E5%8F%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Linkua">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Excerpt">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/03/09/f1c200s%E5%BC%80%E5%8F%91/" class="post-title-link" itemprop="url">F1C100s/F1C200s 开发</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-03-09 19:29:00" itemprop="dateCreated datePublished" datetime="2024-03-09T19:29:00+08:00">2024-03-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-05-29 15:15:38" itemprop="dateModified" datetime="2024-05-29T15:15:38+08:00">2024-05-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><a href="#-0%E8%AF%B4%E6%98%8E"> 0.说明</a><ul>
<li><a href="#-%E8%8A%AF%E7%89%87%E4%BB%8B%E7%BB%8D"> 芯片介绍</a></li>
<li><a href="#-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"> 基础知识</a><ul>
<li><a href="#1-f1cxxxs%E8%8A%AF%E7%89%87%E7%9A%84%E4%B8%8A%E7%94%B5%E5%90%AF%E5%8A%A8%E9%A1%BA%E5%BA%8F">1. F1Cxxxs芯片的上电启动顺序</a></li>
<li><a href="#2-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E9%93%BE%E4%B8%8B%E8%BD%BD">2. 开发工具链下载</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#-1%E7%A1%AC%E4%BB%B6%E5%BC%80%E5%8F%91"> 1.硬件开发</a></li>
<li><a href="#-2%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"> 2.环境准备</a><ul>
<li><a href="#21-%E5%87%86%E5%A4%87docker%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">2.1 准备Docker开发环境</a><ul>
<li><a href="#211-%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E8%BD%AF%E4%BB%B6">2.1.1 安装依赖软件</a></li>
<li><a href="#222-%E5%AE%89%E8%A3%85%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7%E9%93%BE">2.2.2 安装编译工具链</a></li>
</ul>
</li>
<li><a href="#24-%E5%B8%B8%E8%A7%84%E7%BC%96%E8%AF%91%E6%96%B9%E6%B3%95">2.4 常规编译方法</a></li>
<li><a href="#25-%E7%83%A7%E5%86%99%E6%96%B9%E6%B3%95">2.5 烧写方法</a></li>
</ul>
</li>
<li><a href="#-3u-boot%E5%BC%80%E5%8F%91"> 3.u-boot开发</a></li>
<li><a href="#-4linux%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91"> 4.Linux内核开发</a></li>
<li><a href="#-5root-fs%E5%BC%80%E5%8F%91"> 5.root-fs开发</a><ul>
<li><a href="#51-%E5%87%86%E5%A4%87%E7%8E%AF%E5%A2%83">5.1 准备环境</a></li>
<li><a href="#52-%E6%9E%84%E5%BB%BAdebian%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F">5.2 构建Debian文件系统</a></li>
<li><a href="#53-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F">5.3 配置文件系统</a><ul>
<li><a href="#531-%E6%9C%80%E5%B0%8F%E9%85%8D%E7%BD%AE">5.3.1 最小配置</a></li>
<li><a href="#532-%E5%A2%9E%E5%8A%A0%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E8%84%9A%E6%9C%AC">5.3.2 增加开机自启脚本</a></li>
<li><a href="#533-%E8%A7%A3%E5%86%B3root-fs%E5%88%86%E5%8C%BA%E5%BC%80%E6%9C%BA%E5%90%8E%E8%A2%AB%E6%8C%82%E8%BD%BD%E4%B8%BAread-only%E7%9A%84%E9%97%AE%E9%A2%98">5.3.3 解决root-fs分区开机后被挂载为<em>Read-Only</em>的问题</a></li>
<li><a href="#534-%E6%B7%BB%E5%8A%A0usb-otg---gadget-rndis%E5%8A%9F%E8%83%BD">5.3.4 添加USB-OTG  &amp; Gadget-RNDIS功能</a></li>
<li><a href="#535-%E5%90%AF%E7%94%A8swap">5.3.5 启用swap</a></li>
</ul>
</li>
<li><a href="#-54-%E6%89%93%E5%8C%85%E9%83%A8%E7%BD%B2%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"> 5.4 打包&amp;部署文件系统</a></li>
</ul>
</li>
<li><a href="#-6%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91"> 6.应用开发</a><ul>
<li><a href="#61-%E7%B3%BB%E7%BB%9F%E5%BA%94%E7%94%A8%E9%9B%86%E6%88%90">6.1 系统应用集成</a></li>
<li><a href="#62-%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91">6.2 驱动开发</a></li>
<li><a href="#63-linux-app%E5%BC%80%E5%8F%91">6.3 Linux App开发</a></li>
</ul>
</li>
<li><a href="#-7%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93"> 7.问题总结</a><ul>
<li><a href="#%E5%85%B6%E4%BB%96%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">其他参考资料</a></li>
</ul>
</li>
</ul>
<h2 id="0-说明"><a href="#0-说明" class="headerlink" title=" 0.说明"></a><span id="head1"> 0.说明</span></h2><blockquote>
<p>本项目是一个基于全志F1C200s芯片的超迷你&amp;低成本的Linux开发板，本来是用于个人的某个小项目调试，现把所有硬件、软件（u-boot、内核、root-fs）开源出来。</p>
<p><strong>板载资源：</strong></p>
<ul>
<li>一个OLED 128x80</li>
<li>一个麦克风 &amp; 功放可以外接喇叭</li>
<li>双面不同功能的Type-C接口分别提供<code>USB转串口</code>以及<code>USB-OTG</code>功能</li>
<li>一个USB-A口用于外接设备</li>
<li>SD卡插槽</li>
<li>引出绝大部分IO</li>
</ul>
<p>板卡成本应该不到50RMB，而且提供了很多资料，很适合用于新手作为入门Linux学习的开发板。</p>
</blockquote>
<p><img src="/7.Docs/2.Images/1.jpg"></p>
<p><img src="/7.Docs/2.Images/2.jpg"></p>
<h3 id="芯片介绍"><a href="#芯片介绍" class="headerlink" title=" 芯片介绍"></a><span id="head2"> 芯片介绍</span></h3><blockquote>
<p>全志F1C200s是全志的一款高度集成、低功耗的移动应用处理器，可用于多种多媒体音视频设备中。</p>
</blockquote>
<p><code>F1C200s</code>基于ARM 9架构，芯片集成了SiP的DDR，外围电路可以极其简单；它支持高清视频解码，包括H.264、H.263、MPEG 1&#x2F;2&#x2F;4等，还集成了音频编解码器和I2S&#x2F;PCM接口，是一款开发简单、性价比较高的产品，也适合用来做入门级的Linux开发板。</p>
<hr>
<table>
<thead>
<tr>
<th>功能</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>CPU</td>
<td>ARM9 CPU architecture，16KByte D-Cache，2KByte I-Cache</td>
</tr>
<tr>
<td>Memory</td>
<td>SIP 64MB DDR1，SD2.0，eMMC 4.41</td>
</tr>
<tr>
<td>Video</td>
<td>H.264 1920x1080@30fps decoding<br/>MPEG1&#x2F;2&#x2F;4 1920x1080@30fps decoding<br/>MJPEG 1280x720@30fps encoding<br/>JPEG encode size up to 8192x8192</td>
</tr>
<tr>
<td>Camera</td>
<td>8-bit CMOS-sensor interface<br/>CCIR656 protocol for NTSC and PAL</td>
</tr>
<tr>
<td>Audio</td>
<td>Integrated analog audio codec with two DAC channels and one ADC channel,maximum 192kHz DAC sample rate and 48kHz ADC sample rate<br/>One I2S&#x2F;PCM interface</td>
</tr>
<tr>
<td>Display</td>
<td>LCD RGB interface up to 1280x720@60fps<br/>TV CVBS output, support NTSC&#x2F;PAL, with auto plug detecting</td>
</tr>
<tr>
<td>Connectivity</td>
<td>USB OTG, SDIO,IR, 3 x TWI, 2 x SPI, 3 x UART</td>
</tr>
<tr>
<td>OS</td>
<td>Melis, Linux OS</td>
</tr>
<tr>
<td>Package</td>
<td>QFN88, 10mm x 10mm</td>
</tr>
<tr>
<td>Process</td>
<td>40nm</td>
</tr>
<tr>
<td>特点</td>
<td>支持H.264 1920x1080@30fps 解码<br/>支持MJPEG 1280x720@30fps 编码<br/>集成 64MB DDR1,集成音频CODEC<br/>低成本，低功耗，开发简单</td>
</tr>
</tbody></table>
<p><img src="https://pengzhihui-markdown.oss-cn-shanghai.aliyuncs.com/img/20220405172955.png" alt="20220401221925"><strong>与其他系列芯片的对比：</strong></p>
<p><img src="https://pengzhihui-markdown.oss-cn-shanghai.aliyuncs.com/img/20220401222336.png" alt="image-20220401222336539"></p>
<h3 id="基础知识"><a href="#基础知识" class="headerlink" title=" 基础知识"></a><span id="head3"> 基础知识</span></h3><h4 id="1-F1Cxxxs芯片的上电启动顺序"><a href="#1-F1Cxxxs芯片的上电启动顺序" class="headerlink" title="1. F1Cxxxs芯片的上电启动顺序"></a><span id="head4">1. F1Cxxxs芯片的上电启动顺序</span></h4><blockquote>
<p>芯片可以从SPI Flash或者SD-Card中启动，因为Flash容量较小可玩性不高，后文都是以SD卡启动为主的。</p>
<p><strong>参考：</strong><a target="_blank" rel="noopener" href="https://whycan.com/t_1746.html">F1C100s启动时搜索SPI Flash的顺序？</a></p>
<ol>
<li>上电后, f1c100s内部 BROM (芯片内置，无法擦除) 启动；</li>
<li>首先检查 SD0 有没有插卡, 如果有插卡就读卡 8k偏移数据，是否是合法的启动数据, 如果是BROM 引导结束, 否则进入下一步；</li>
<li>检测SPI0 NOR FLASH(W25QXXX, MX25LXXX) 是否存在, 是否有合法的启动数据, 如果是BROM 引导结束, 否则进入下一步；</li>
<li>检测SPI0 NAND FLASH 是否存在, 是否有合法的启动数据, 如果是BROM 引导结束, 否则进入下一步；</li>
<li>因为找不到任何可以引导的介质， 系统进入usb fel 模式， 可以用USB烧录了。</li>
</ol>
</blockquote>
<h4 id="2-开发工具链下载"><a href="#2-开发工具链下载" class="headerlink" title="2. 开发工具链下载"></a><span id="head5">2. 开发工具链下载</span></h4><blockquote>
<p>编译工具链官网：<a target="_blank" rel="noopener" href="https://www.linaro.org/">https://www.linaro.org/</a></p>
<p>或<a target="_blank" rel="noopener" href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain">Arm GNU Toolchain</a>，以linaro为例：进入<code>support-&gt;downloads</code>可以看到下载页面，点击<code>GNU cross-toolchain binary archives</code>，可以进入对应<a target="_blank" rel="noopener" href="https://releases.linaro.org/components/toolchain/binaries/">下载列表</a>，可以看到各个版本的toolchain，这里我使用的<code>latest-7/arm-linux-gnueabi/</code>即<code>gcc-linaro-7.5.0-2019.12-x86_64_arm-linux-gnueabi</code>即可。</p>
</blockquote>
<h2 id="1-硬件开发"><a href="#1-硬件开发" class="headerlink" title=" 1.硬件开发"></a><span id="head6"> 1.硬件开发</span></h2><p><img src="/7.Docs/2.Images/3.jpg"></p>
<p>原理图见仓库的源文件和PDF，需要说明的点是：</p>
<ul>
<li><p>板子的Type-C采用正反插不同功能，正面是USB转TTL串口功能，用于内核调试，反面是芯片的USB功能，在内核中我开启了USB的RNDIS网卡也就是说可以通过这个USB口模拟出一个网卡然后共享电脑的网络，<strong>也就不需要外接WiFi和以太网模块了很方便。</strong></p>
</li>
<li><p>由于芯片只有一个USB接口，因此为了能使板子作为Host外接其他设备，我在板卡上添加了一个OTG的跳线：</p>
<p><img src="/7.Docs/2.Images/4.jpg"></p>
<p>正常情况下不接跳线的话OTG功能为Device模式，也就是可以通过TypeC接口模拟网卡或者其他设备如MTP；当插上跳线帽之后，就可以作为Host在右边的A口插入USB设备了如U盘、键盘、鼠标等，<strong>注意此时C口的USB功能失效，需要通过串口登录板子。</strong></p>
</li>
</ul>
<h2 id="2-环境准备"><a href="#2-环境准备" class="headerlink" title=" 2.环境准备"></a><span id="head7"> 2.环境准备</span></h2><p><strong>推荐直接使用我配置好的完整镜像，用Etcher等工具直接烧写到SD卡里即可以使用，方便又好用~</strong></p>
<blockquote>
<p>镜像的账户：</p>
<ul>
<li>pi 密码：planck</li>
<li>root 密码：planck</li>
</ul>
</blockquote>
<p>下面的教程是给需要自己配置uboot、内核、文件系统的人看的。</p>
<h3 id="2-1-准备Docker开发环境"><a href="#2-1-准备Docker开发环境" class="headerlink" title="2.1 准备Docker开发环境"></a><span id="head8">2.1 准备Docker开发环境</span></h3><p>为了最小化编译环境，这里采用Docker构建ubuntu20.04镜像的方式来搭建环境。</p>
<h4 id="2-1-1-安装依赖软件"><a href="#2-1-1-安装依赖软件" class="headerlink" title="2.1.1 安装依赖软件"></a><span id="head9">2.1.1 安装依赖软件</span></h4><p>首先需要自己安装一下Docker（百度一下教程），然后pull一下Ubuntu官方的Docker镜像到本地，选择版本为<code>ubuntu:20.04</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker pull ubuntu:20.04</span><br></pre></td></tr></table></figure>

<blockquote>
<p>实际操作中使用了我自己预先配置好的本地镜像（安装了nano、ssh等软件，更新了国内的apt源等）。</p>
</blockquote>
<p>然后启动容器（修改为你自己的相关路径）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -it --name planck-pi-env --network host \</span><br><span class="line">-p 8022:22 \</span><br><span class="line">-v /home/pengzhihui/WorkSpace:/workspace \</span><br><span class="line">--privileged \</span><br><span class="line">planck-pi-env.image:latest</span><br></pre></td></tr></table></figure>

<p>进入容器之后执行<code>apt update</code>核<code>apt upgrade</code>更新软件，接下来安装依赖的软件包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install xz-utils nano wget unzip build-essential git bc swig libncurses5-dev libpython3-dev libssl-dev pkg-config zlib1g-dev libusb-dev libusb-1.0-0-dev python3-pip gawk bison flex </span><br></pre></td></tr></table></figure>

<h4 id="2-2-2-安装编译工具链"><a href="#2-2-2-安装编译工具链" class="headerlink" title="2.2.2 安装编译工具链"></a><span id="head10">2.2.2 安装编译工具链</span></h4><p>按照前文介绍的地址下载工具链（可以在VMware宿主机进入共享文件夹操作）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://releases.linaro.org/components/toolchain/binaries/7.2-2017.11/arm-linux-gnueabi/gcc-linaro-7.2.1-2017.11-x86_64_arm-linux-gnueabi.tar.xz</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong>GCC版本要大于 6；此处为获取交叉编译链为7.2.1版本，也可以自行下载其他版本。</p>
</blockquote>
<p>将工具链压缩包解压：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/local/arm </span><br><span class="line">tar -vxf gcc-linaro-7.2.1-2017.11-x86_64_arm-linux-gnueabi.tar.xz -C /usr/local/arm </span><br></pre></td></tr></table></figure>

<p>配置环境变量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano  ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>打开文件添加下面的变量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/arm/gcc-linaro-7.2.1-2017.11-x86_64_arm-linux-gnueabi/bin</span><br></pre></td></tr></table></figure>

<p>使环境变量立即生效 ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc </span><br></pre></td></tr></table></figure>

<p>查询版本，确认安装成功 ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arm-linux-gnueabi-gcc -v</span><br></pre></td></tr></table></figure>

<p>配置完成后可以commit容器到镜像方便未来部署：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker commit planck-pi-env planck-pi-env.image</span><br><span class="line">sudo docker save -o planck-pi-env.image.tar planck-pi-env.image</span><br></pre></td></tr></table></figure>

<h3 id="2-4-常规编译方法"><a href="#2-4-常规编译方法" class="headerlink" title="2.4 常规编译方法"></a><span id="head12">2.4 常规编译方法</span></h3><p>进入源码目录, 执行下述命令进行编译: </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make ARCH=arm CROSS_COMPILE=arm-linux-gnueabi- -j4</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在uboot顶层<code>Makefile</code>的250行左右，添加默认编译器，就可以直接用<code>make</code>编译省去后面的参数了:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ifeq ($(HOSTARCH),$(ARCH))</span><br><span class="line">CROSS_COMPILE ?= </span><br><span class="line">endif</span><br><span class="line"></span><br><span class="line">ARCH ?= arm</span><br><span class="line">CROSS_COMPILE ?= arm-linux-gnueabi-</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="2-5-烧写方法"><a href="#2-5-烧写方法" class="headerlink" title="2.5 烧写方法"></a><span id="head13">2.5 烧写方法</span></h3><blockquote>
<p>FEL烧写方法这里不使用, 有兴趣可以参考这些教程了解: </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/p1279030826/article/details/112719638">全志sunxi-tools烧录工具安装和使用</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/bigmagic/p/12373290.html">全志V3S 编译运行xboot笔记</a></li>
</ul>
</blockquote>
<p><strong>这里介绍TF卡的烧写方法。</strong></p>
<p>在TF卡上构建系统之前，需要将TF卡进行分区与格式化。</p>
<blockquote>
<p>也可以使用GParted等软件做图形化的操作：</p>
<p><img src="https://pengzhihui-markdown.oss-cn-shanghai.aliyuncs.com/img/20220402200042.png" alt="image-20220402200042470"></p>
</blockquote>
<p>命令行方式如下，首先查看电脑上已插入的TF卡的设备号（一般为 &#x2F;dev&#x2F;sdb1,下面以&#x2F;dev&#x2F;sdb1为例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk -l </span><br></pre></td></tr></table></figure>

<p>若自动挂载了TF设备，先卸载（有多个分区则全部卸载）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo umount /dev/sdb1...</span><br></pre></td></tr></table></figure>

<p>进行分区操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk /dev/sdb</span><br></pre></td></tr></table></figure>

<p>操作步骤如下：</p>
<ol>
<li><p>若已存分区即按 d 删除各个分区</p>
</li>
<li><p>通过 n 新建分区，第一分区暂且申请为1M用于储存uboot-with-spl，第二分区32M用于储存Linux内核，剩下的空间都给root-fs</p>
<blockquote>
<ul>
<li><p><strong>第一分区操作</strong>：p 主分区、默认 1 分区、默认2048、+16M</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n p [Enter] [Enter] [Enter] +1M</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>第二分区操作</strong>：p 主分区、2 分区、默认2048、+128M</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n p [Enter] [Enter] [Enter] +128M</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>第三分区操作</strong>：p 主分区、3 分区、默认2048，剩下的全部分配</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n p [Enter] [Enter] [Enter] [Enter]</span><br></pre></td></tr></table></figure>
</li>
<li><p>w 保存写入并退出</p>
</li>
</ul>
</blockquote>
</li>
</ol>
<p>分区格式化：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo mkfs.vfat /dev/sdb1 # 将第1分区格式化成FAT</span><br><span class="line">sudo mkfs.ext4 /dev/sdb2 # 将第2分区格式化成FAT  </span><br><span class="line">sudo mkfs.ext4 /dev/sdb3 # 将第3分区格式化成EXT4</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>格式说明：</strong></p>
<ul>
<li>EXT4：只用于Linux系统的内部磁盘</li>
<li>NTFS：与Windows共用的磁盘</li>
<li>FAT：所有系统和设备共用的磁盘</li>
</ul>
</blockquote>
<p>使用dd将<code>u-boot-sunxi-with-spl.bin</code>烧写进第一分区：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo dd if=path/to/u-boot-sunxi-with-spl.bin of=/dev/sdb bs=1024 seek=8</span><br><span class="line">sync</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong>这里的<code>bs=1024 seek=8</code>是添加了8192字节的偏移，之所以要加8K偏移是因为FSBL也就是bootROM里面硬写死了会从设备的8K地址处加载SPL，然后进入uboot。因此上面烧写的时候，指定的偏移地址一定是<strong>相对于储存设备硬件的偏移，而不是相对于分区的偏移</strong>！</p>
<ul>
<li>8K的来源是参考<code>buildroot-mangopi-r/board/allwinner/generic/genimage-sdcard.cfg</code>文件的描述<code>offset = 0x2000</code>。</li>
<li>是否单独划分一个uboot分区其实不重要，因为烧写的时候直接覆盖了但是我们人为设置一个1M大小的区间分隔开，便于和后面的内核储存分区区分。</li>
<li>关于genimage的使用，可以参考billdroot官方的文档描述：<a target="_blank" rel="noopener" href="https://buildroot.org/downloads/manual/manual.html#writing-genimage-cfg">The Buildroot user manual</a> 。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">image bootfs.vfat &#123;</span><br><span class="line">	vfat &#123;</span><br><span class="line">		files = &#123;</span><br><span class="line">			&quot;zImage&quot;,</span><br><span class="line">			&quot;devicetree.dtb&quot;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	size = 8M</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">image sysimage-sdcard.img &#123;</span><br><span class="line">	hdimage &#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	partition u-boot &#123;</span><br><span class="line">		image = &quot;u-boot-sunxi-with-spl.bin&quot;</span><br><span class="line">		offset = 0x2000</span><br><span class="line">		size = 1016K # 1MB - 8192</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	partition boot &#123;</span><br><span class="line">		partition-type = 0xC</span><br><span class="line">		bootable = &quot;true&quot;</span><br><span class="line">		image = &quot;bootfs.vfat&quot;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	partition rootfs &#123;</span><br><span class="line">		partition-type = 0x83</span><br><span class="line">		image = &quot;rootfs.ext4&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>关于上面<code>partition-type</code>的含义可以参考：<a target="_blank" rel="noopener" href="https://thestarman.pcministry.com/asm/mbr/PartTypes.htm">Listing of MBR&#x2F;EBR Partition Types</a> 。</li>
<li>对于内核的FAT分区，分区完挂载之后直接把zImage和dtb文件放进去就行了，至于如何指定内核镜像和设备树所在分区，可以参考<code>configs/uboot.env</code>里面的配置，启动的时候相关参数是在这里被传递给内核的。</li>
</ul>
</blockquote>
<h2 id="3-u-boot开发"><a href="#3-u-boot开发" class="headerlink" title=" 3.u-boot开发"></a><span id="head14"> 3.u-boot开发</span></h2><p><strong>【待补充】</strong></p>
<p><strong>* uboot的文件结构</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── api             //封装一些平台无关的操作，如字符串打印，显示，网络，内存</span><br><span class="line">├── arch            //以平台架构区分</span><br><span class="line">│   ├──arm</span><br><span class="line">│   │   └──cpu</span><br><span class="line">│   │   │   └──arm926ejs</span><br><span class="line">│   │   │   │   └──sunxi   //cpu相关的一些操作，如定时器读取</span><br><span class="line">│   │   │   │   │   └──u-boot-spl.lds  //spl的放置方法</span><br><span class="line">│   │   └──dts</span><br><span class="line">│   │   │   └──suniv-f1c100s-licheepi-nano.dts   // f1c100s芯片的一些配置</span><br><span class="line">│   │   │   └──suniv-f1c100s-licheepi-nano.dtb</span><br><span class="line">│   │   │   └──suniv-f1c100s.dtsi</span><br><span class="line">│   │   │   └──suniv.dtsi</span><br><span class="line">│   │   └──lib      //一些库文件</span><br><span class="line">│   │   └──mach-sunxi</span><br><span class="line">│   │   │   └──board.c          //board_init_f</span><br><span class="line">│   │   │   └──dram_sun4i.c     //ddr的操作，复位，时钟，延时，odt，etc.</span><br><span class="line">│   │   │   └──dram_helpers.c   //ddr的设置及读写测试</span><br><span class="line">├── board</span><br><span class="line">│   ├──sunxi</span><br><span class="line">│   │   └──board.c              //sunxi_board_init 入口</span><br><span class="line">│   │   └──dram_suniv.c        //DRAM的一些默认参数</span><br><span class="line">├── cmd             //Uboot命令行的一些命令</span><br><span class="line">├── common          //含spl</span><br><span class="line">├── configs         //menuconfig里的默认配置,比如各类驱动适配</span><br><span class="line">│   ├── licheepi_nano_defconfig</span><br><span class="line">│   ├── licheepi_nano_spiflash_defconfig</span><br><span class="line">├── disk            //硬盘分区的驱动</span><br><span class="line">├── doc</span><br><span class="line">├── drivers         //外设驱动</span><br><span class="line">├── dts</span><br><span class="line">├── examples</span><br><span class="line">├── fs              //多种文件系统</span><br><span class="line">├── include</span><br><span class="line">│   ├──configs</span><br><span class="line">│   │   └──sunxi_common.h   //预配置的参数，如串口号等</span><br><span class="line">│   │   └──suniv.h</span><br><span class="line">├── lib             //加密压缩等算法</span><br><span class="line">├── net             //nfs,tftp等网络协议</span><br><span class="line">├── post</span><br><span class="line">├── scripts </span><br></pre></td></tr></table></figure>

<h2 id="4-Linux内核开发"><a href="#4-Linux内核开发" class="headerlink" title=" 4.Linux内核开发"></a><span id="head15"> 4.Linux内核开发</span></h2><h2 id="5-root-fs开发"><a href="#5-root-fs开发" class="headerlink" title=" 5.root-fs开发"></a><span id="head16"> 5.root-fs开发</span></h2><p>由于F1C200s的RAM只有64M，无法支持像是Ubuntu-Core这样的文件系统（最低RAM需求512M），所以一般只能用buildroot来生成简单的文件系统，或者裸机开发。</p>
<p>但是为了方便地使用Debian系的丰富软件，我们可以自己构建Debian最小系统，最小rootfs在180MB左右。</p>
<h3 id="5-1-准备环境"><a href="#5-1-准备环境" class="headerlink" title="5.1 准备环境"></a><span id="head17">5.1 准备环境</span></h3><p>安装构建文件系统的工具主要有两个：</p>
<ul>
<li>一个是qemu用来模拟ARM9的芯片架构，基于qemu模拟器可以在x86的宿主机上通过chroot切换到ARM环境然后完成root-fs的各种配置。</li>
<li>一个是debootstrap ，用来构建Debian文件系统。</li>
</ul>
<blockquote>
<p><strong>注意：</strong>上述软件都是需要在安装了交叉编译环境的Docker容器下运行的，否则编译出来的文件系统上版运行的时候会报格式错误。</p>
</blockquote>
<p>Docker中运行下面的命令安装软件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt install qemu-user-static  </span><br><span class="line">apt install debootstrap  </span><br><span class="line">mkdir path/to/rootfs-debian</span><br></pre></td></tr></table></figure>

<h3 id="5-2-构建Debian文件系统"><a href="#5-2-构建Debian文件系统" class="headerlink" title="5.2 构建Debian文件系统"></a><span id="head18">5.2 构建Debian文件系统</span></h3><p>构建文件系统之前，需要知道我们想要构建哪个版本的文件系统，这里从<a target="_blank" rel="noopener" href="https://www.debian.org/mirror/list.zh-cn.html">Debian 全球镜像站</a>选择访问速度快的源，这里使用华为源：mirrors.huaweicloud.com。</p>
<blockquote>
<p><strong>注意：</strong>选择的源需要支持硬件架构<code>armel</code>，因为F1Cxxxs是<code>armel</code>架构的芯片。</p>
<p>关于不同架构的区别：</p>
<ul>
<li><strong>armel</strong>：<code>arm eabi little endian</code>的缩写，针对旧的 32 位 ARM 处理器，而不支持硬件浮点单元（FPU）</li>
<li><strong>armhf：</strong><code>arm hard float</code>的缩写，仅适用于较新的 32 位 ARM 处理器，其至少实现了 ARMv7 架构，且支持 ARM 矢量浮点规范（VFPv3）第 3 版</li>
<li><strong>arm64：</strong>适用于 64 位 ARM 处理器，64位的arm默认就是hf的，其至少实现了 ARMv8 架构</li>
</ul>
</blockquote>
<p>然后就是debian的版本，使用最新的<code>buster</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">debootstrap --foreign --verbose --arch=armel  buster rootfs-debian http://mirrors.huaweicloud.com/debian/</span><br><span class="line">cd rootfs-debian</span><br><span class="line">mount --bind /dev dev/</span><br><span class="line">mount --bind /sys sys/</span><br><span class="line">mount --bind /proc proc/</span><br><span class="line">mount --bind /dev/pts dev/pts/</span><br><span class="line">cd ..</span><br><span class="line">cp /usr/bin/qemu-arm-static rootfs-debian/usr/bin/</span><br><span class="line">chmod +x rootfs-debian/usr/bin/qemu-arm-static</span><br><span class="line">LC_ALL=C LANGUAGE=C LANG=C chroot rootfs-debian /debootstrap/debootstrap --second-stage --verbose</span><br><span class="line">LC_ALL=C LANGUAGE=C LANG=C chroot rootfs-debian</span><br></pre></td></tr></table></figure>

<h3 id="5-3-配置文件系统"><a href="#5-3-配置文件系统" class="headerlink" title="5.3 配置文件系统"></a><span id="head19">5.3 配置文件系统</span></h3><h4 id="5-3-1-最小配置"><a href="#5-3-1-最小配置" class="headerlink" title="5.3.1 最小配置"></a><span id="head20">5.3.1 最小配置</span></h4><p>构建完成之后，需要在Docker中chroot进去修改密码等配置，通过下面的命令进入chroot环境：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LC_ALL=C LANGUAGE=C LANG=C chroot rootfs-debian</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong>前文启动Docker容器的时候，一定要加<code>--privileged</code>参数，否则上面mount指令会报权限错误。</p>
</blockquote>
<p>上面最后一条命令chroot完成，此时可以用<code>apt-get</code>等命令给文件系统安装需要的软件包，修改root登录密码等操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">apt install net-tools usbutils ssh</span><br><span class="line"></span><br><span class="line">passwd root</span><br><span class="line"># 修改密码</span><br><span class="line"></span><br><span class="line">nano /etc/ssh/sshd_config</span><br><span class="line"># 添加SSH权限，修改为PermitRootLogin yes</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可能会出现无法使用方向键的问题，输入<code>bash</code>命令进入bash窗口即可。</p>
</blockquote>
<h4 id="5-3-2-增加开机自启脚本"><a href="#5-3-2-增加开机自启脚本" class="headerlink" title="5.3.2 增加开机自启脚本"></a><span id="head21">5.3.2 增加开机自启脚本</span></h4><p>文件系统中的<code>/etc/init.d</code>负责linux的服务的开启和关闭等，为了能使系统开机自动运行一些脚本和命令，这里介绍如何新添加一个自启动项。</p>
<p>首先我们创建一个文件<code>/etc/init.d/runOnBoot</code>，内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh /etc/init.d/runOnBoot</span><br><span class="line">### BEGIN INIT INFO</span><br><span class="line"># Provides: runOnBoot Required-Start: $local_fs $syslog $network</span><br><span class="line"># Required-Stop: $local_fs $syslog $network Default-Start: 2 3 4 5</span><br><span class="line"># Default-Stop: 0 1 6 Short-Description: runOnBoot startup Description:</span><br><span class="line"># runOnBoot auto startup 1.0</span><br><span class="line">### END INIT INFO</span><br><span class="line"></span><br><span class="line">#------------------------------------------------------------------------------</span><br><span class="line">swapon /opt/images/swap</span><br><span class="line"></span><br><span class="line">mkdir /sys/kernel/config/usb_gadget/gg</span><br><span class="line">cd /sys/kernel/config/usb_gadget/gg</span><br><span class="line">echo &quot;0x0502&quot; &gt; idVendor</span><br><span class="line">echo &quot;0x3235&quot; &gt; idProduct</span><br><span class="line">mkdir functions/rndis.rn0</span><br><span class="line">mkdir configs/c1.1</span><br><span class="line">ln -s functions/rndis.rn0 configs/c1.1/</span><br><span class="line">echo &quot;musb-hdrc.1.auto&quot; &gt; UDC</span><br><span class="line">ifconfig usb0 192.168.137.2</span><br><span class="line">ifconfig usb0 up</span><br><span class="line">route add default gw 192.168.137.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Demo to run a script ↓</span><br><span class="line"># script_path=/home/start.sh</span><br><span class="line"># if [ ! -r $&#123;script_path&#125; ]; then</span><br><span class="line">#     echo $&#123;script_path&#125; not existing;</span><br><span class="line"># fi</span><br><span class="line"># . $&#123;myStart_spaddr&#125;</span><br><span class="line"></span><br><span class="line">#------------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>给文件添加可执行权限：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /etc/init.d/runOnBoot</span><br></pre></td></tr></table></figure>

<p>最后要添加软链接：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /etc/init.d/runOnBoot /etc/rc2.d/S99runOnBoot</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>/etc/rc.d/rc0.d/</code>～<code>/etc/rc.d/rc6.d/</code>文件夹的含义不同，S开头代表是开启时处理的脚本，按照后面紧跟的数字进行按顺序启动，S99则是最后进行启动。</p>
</blockquote>
<p>重启即可看到命令和脚本自动执行了。</p>
<h4 id="5-3-3-解决root-fs分区开机后被挂载为Read-Only的问题"><a href="#5-3-3-解决root-fs分区开机后被挂载为Read-Only的问题" class="headerlink" title="5.3.3 解决root-fs分区开机后被挂载为Read-Only的问题"></a><span id="head22">5.3.3 解决root-fs分区开机后被挂载为<em>Read-Only</em>的问题</span></h4><p>新配置的文件系统需要添加fstab进行对应分区的自动挂载，修改<code>/etc/fstab</code>文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># &lt;file system&gt;	&lt;mount pt&gt;	&lt;type&gt;	&lt;options&gt;	&lt;dump&gt;	&lt;pass&gt;</span><br><span class="line">/dev/root	/		ext2	rw,noauto	0	1</span><br><span class="line">proc		/proc		proc	defaults	0	0</span><br><span class="line">devpts		/dev/pts	devpts	defaults,gid=5,mode=620,ptmxmode=0666	0	0</span><br><span class="line">tmpfs		/dev/shm	tmpfs	mode=0777	0	0</span><br><span class="line">tmpfs		/tmp		tmpfs	mode=1777	0	0</span><br><span class="line">tmpfs		/run		tmpfs	mode=0755,nosuid,nodev	0	0</span><br><span class="line">sysfs		/sys		sysfs	defaults	0	0</span><br><span class="line">/opt/images/swap swap swap defaults 0 0</span><br></pre></td></tr></table></figure>

<h4 id="5-3-4-添加USB-OTG-Gadget-RNDIS功能"><a href="#5-3-4-添加USB-OTG-Gadget-RNDIS功能" class="headerlink" title="5.3.4 添加USB-OTG  &amp; Gadget-RNDIS功能"></a><span id="head23">5.3.4 添加USB-OTG  &amp; Gadget-RNDIS功能</span></h4><blockquote>
<p><strong>参考资料：</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://whycan.com/t_6242.html">全志平台上通过configfs(libcomposite)配置RNDIS Gadget(u_ether)及Windows下的驱动</a></li>
<li><a target="_blank" rel="noopener" href="https://linux-sunxi.org/USB_Gadget/Ethernet#Mainline_kernel_.28via_configfs.29">USB Gadget&#x2F;Ethernet - linux-sunxi.org</a></li>
<li><a target="_blank" rel="noopener" href="https://www.lotlab.org/2018/07/29/record-of-using-licheepi-part-2-using-linux-gadget/">LicheePi入坑记录2——使用 Linux Gadget 复合设备共享网络与虚拟串口 – LotLab</a></li>
</ul>
</blockquote>
<p><strong>USB Gadget</strong>（小饰品），就是指所开发的电子设备以USB-device的模式通过USB连接到主机，比如手机用USB线插入PC后，手机就是USB Gadget。</p>
<p>在本开发板中，可以利用USB Gadget把USB模拟成虚拟网卡、虚拟串口、MTP设备等等非常方便，下面介绍具体的配置方法。</p>
<p><strong>RNDIS功能开发方法：</strong></p>
<p>首先需要在内核中开启了相关选项：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Device Drivers  ---&gt;</span><br><span class="line">       [*] USB support  ---&gt;</span><br><span class="line">       &lt;M&gt; Inventra Highspeed Dual Role Controller (TI, ADI, AW, ...)</span><br><span class="line">               MUSB Mode Selection (Dual Role mode)  ---&gt;</span><br><span class="line">               *** Platform Glue Layer ***</span><br><span class="line">           &lt;M&gt; Allwinner (sunxi)</span><br><span class="line">               *** MUSB DMA mode ***</span><br><span class="line">           [*] Disable DMA (always use PIO)</span><br><span class="line">       USB Physical Layer drivers  ---&gt;</span><br><span class="line">           &lt;M&gt; NOP USB Transceiver Driver</span><br><span class="line">       &lt;M&gt;   USB Gadget Support  ---&gt;</span><br><span class="line">           &lt;M&gt;   USB Gadget functions configurable through configfs</span><br><span class="line">           [*]     RNDIS</span><br></pre></td></tr></table></figure>

<p>然后在文件系统中添加一些配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cd /sys/kernel/config/usb_gadget</span><br><span class="line">mkdir gg</span><br><span class="line">cd gg/</span><br><span class="line">echo &quot;0x0502&quot; &gt; idVendor</span><br><span class="line">echo &quot;0x3235&quot; &gt; idProduct</span><br><span class="line">mkdir functions/rndis.rn0</span><br><span class="line">mkdir configs/c1.1</span><br><span class="line">ln -s functions/rndis.rn0 configs/c1.1/</span><br><span class="line">echo &quot;musb-hdrc.1.auto&quot; &gt; UDC</span><br></pre></td></tr></table></figure>

<p>启用usb0网卡并设置一个ip地址：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ifconfig usb0 192.168.137.2</span><br><span class="line">ifconfig usb0 up</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里使用137网段的原因是希望后面通过Windows的网络共享功能让板卡通过USB连上互联网，而Windows的共享网段固定是<code>192.168.137.1</code> 。</p>
</blockquote>
<p>在Windows端安装驱动，手动选择网络适配器，然后添加下面的驱动：</p>
<p><img src="https://pengzhihui-markdown.oss-cn-shanghai.aliyuncs.com/img/20220403192210.png" alt="image-20220403192210458"></p>
<p>之后会在网络适配器中发现新的网卡设备，配置固定ip如下：</p>
<p><img src="https://pengzhihui-markdown.oss-cn-shanghai.aliyuncs.com/img/20220403192335.png" alt="image-20220403192335548"></p>
<p>此时通过ping命令应该可以相互ping通了，但是在板卡上可能还是无法连接互联网，需要配置一下默认网关和DNS服务器：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">route add default gw 192.168.137.1</span><br><span class="line">#但是这样重启以后就不能用了，需要添加到自启脚本中</span><br></pre></td></tr></table></figure>

<p>DNS记录在<code>/etc/resolv.conf</code>这个文件里，可以按<code>resolv.conf</code>文件的格式修改DNS。 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/resolv.conf</span><br><span class="line"></span><br><span class="line">修改为：</span><br><span class="line">nameserver 8.8.8.8</span><br></pre></td></tr></table></figure>

<p>如果可以ping通<a target="_blank" rel="noopener" href="http://www.baidu.com就说明配置完成了./">www.baidu.com就说明配置完成了。</a></p>
<h4 id="5-3-5-启用swap"><a href="#5-3-5-启用swap" class="headerlink" title="5.3.5 启用swap"></a><span id="head24">5.3.5 启用swap</span></h4><p>芯片的SiP内存只有64MB，大部分情况下都不够用，所以需要开启swap使用内存卡的一部分空间来作为交换内存。</p>
<p>通过free -m来查看下内存使用状况：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># free -m</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:             54          15           6           0          31          34</span><br><span class="line">Swap:             0           0           0</span><br></pre></td></tr></table></figure>

<p>创建一个自定义的目录<code>/opt/images/</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /opt/images/</span><br><span class="line">rm -rf /opt/images/swap</span><br></pre></td></tr></table></figure>

<p>创建一个需要内存大小的文件，如512M：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># dd if=/dev/zero of=/opt/images/swap bs=1024 count=512000</span><br><span class="line">2048000+0 records in</span><br><span class="line">2048000+0 records out</span><br><span class="line">2097152000 bytes (2.1 GB, 2.0 GiB) copied, 30.3635 s, 69.1 MB/s</span><br></pre></td></tr></table></figure>

<p>把创建的文件变成SWAP分区并启用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkswap /opt/images/swap</span><br><span class="line">swapon /opt/images/swap</span><br></pre></td></tr></table></figure>

<p><code>free -m</code>看看SWAP是否生效，ok的话设置开机自动挂载swap：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/fstab</span><br><span class="line"></span><br><span class="line">添加一行：</span><br><span class="line">/opt/images/swap swap swap defaults 0 0</span><br></pre></td></tr></table></figure>

<h3 id="5-4-打包-部署文件系统"><a href="#5-4-打包-部署文件系统" class="headerlink" title=" 5.4 打包&amp;部署文件系统"></a><span id="head25"> 5.4 打包&amp;部署文件系统</span></h3><p> 配置完成后清理一下缓存，然后退出chroot环境：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt clean</span><br><span class="line">exit  </span><br></pre></td></tr></table></figure>

<p>在Docker中umount相关文件夹：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount dev/</span><br></pre></td></tr></table></figure>

<p>进入文件系统并添加压缩包打包相关文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd rootfs-debian</span><br><span class="line">tar cvf ../rootfs-debian.tar . </span><br></pre></td></tr></table></figure>

<p>生成的<code>rootfs-debian.tar</code>任意解压到SD卡的文件系统分区即可。</p>
<p>或者直接插上SD卡拷贝所有文件（需要在VMware宿主机打开终端操作），在挂载的SD卡root-fs磁盘打开终端，输入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp -Rf path/to/rootfs-debian/* ./</span><br></pre></td></tr></table></figure>

<p>然后插上板卡即可启动。</p>
<p>后续配置，在超级用户权限下执行如下两个命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span> root:root /usr/bin/sudo</span><br><span class="line"><span class="built_in">chmod</span> 4755 /usr/bin/sudo</span><br><span class="line"></span><br><span class="line">nano /etc/hosts </span><br><span class="line">在localhost后面添加一个自己的用户名如pi</span><br></pre></td></tr></table></figure>

<h2 id="6-应用开发"><a href="#6-应用开发" class="headerlink" title=" 6.应用开发"></a><span id="head26"> 6.应用开发</span></h2><h3 id="6-1-系统应用集成"><a href="#6-1-系统应用集成" class="headerlink" title="6.1 系统应用集成"></a><span id="head27">6.1 系统应用集成</span></h3><h3 id="6-2-驱动开发"><a href="#6-2-驱动开发" class="headerlink" title="6.2 驱动开发"></a><span id="head28">6.2 驱动开发</span></h3><h3 id="6-3-Linux-App开发"><a href="#6-3-Linux-App开发" class="headerlink" title="6.3 Linux App开发"></a><span id="head29">6.3 Linux App开发</span></h3><h2 id="7-问题总结"><a href="#7-问题总结" class="headerlink" title=" 7.问题总结"></a><span id="head30"> 7.问题总结</span></h2><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/fly_520/article/details/79991229">SSH无法连接：Permissions xxx for ‘&#x2F;etc&#x2F;ssh&#x2F;ssh_host_rsa_key’ are too open</a></li>
</ul>
<h3 id="其他参考资料"><a href="#其他参考资料" class="headerlink" title="其他参考资料"></a>其他参考资料</h3><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/p1279030826/article/details/113370239">【目录】全志F1C100S&#x2F;F1C200S学习笔记</a> </li>
<li><a target="_blank" rel="noopener" href="https://whycan.com/t_7558.html">《保姆级教程》全志F1C100S&#x2F;F1C200S spi-flash 启动全流程适配烧录及踩坑指南 </a></li>
<li><a target="_blank" rel="noopener" href="https://mangopi.cc/f1c200s">MangoPi 芒果派 | f1c200s</a></li>
<li><a target="_blank" rel="noopener" href="http://www.付坤.中国/?id=141">荔枝派Nano 全流程指南</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/03/08/f1c100s%E5%BC%80%E5%8F%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Linkua">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Excerpt">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/03/08/f1c100s%E5%BC%80%E5%8F%91/" class="post-title-link" itemprop="url">F1C100s/F1C200s 开发</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-03-08 17:29:00" itemprop="dateCreated datePublished" datetime="2024-03-08T17:29:00+08:00">2024-03-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-06-17 21:51:27" itemprop="dateModified" datetime="2024-06-17T21:51:27+08:00">2024-06-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="F1C100s-F1C200s"><a href="#F1C100s-F1C200s" class="headerlink" title="F1C100s&#x2F;F1C200s"></a>F1C100s&#x2F;F1C200s</h2><ul>
<li>F1C100s 的内核是 ARM926EJ-S ，ARMv5 架构，有 MMU，没有硬件 FPU，主频默认为 408MHz；</li>
<li>F1C100s 内置 32MB DDR1 内存；</li>
<li>F1C200s 是 F1C100s 的兄弟型号，其它特性都相同，内存容量翻倍为 64MB；</li>
</ul>
<h3 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Manufacturer    Allwinner</span><br><span class="line">CPU             ARM ARM926EJ-S @ 533MHz</span><br><span class="line">                L1 Cache: 16KB Data, 32KB Instruction</span><br><span class="line">                FPU: None</span><br><span class="line">Memory          32MB Embedded DDR (F1C100s) or 64MB Embedded DDR (F1C200s)</span><br><span class="line">GPU              Custom 2D-only</span><br><span class="line">VPU              Unknown</span><br><span class="line">Video            LCD, CVBS</span><br><span class="line">Audio            DAC</span><br><span class="line">Storage          SD/MMC (SD v2.0, eMMC V4.41)</span><br><span class="line">USB              USB 2.0 OTG</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>由于F1C200s的RAM只有64M，无法支持像是Ubuntu-Core这样的文件系统（最低RAM需求512M），所以一般只能用buildroot来生成简单的文件系统，或者裸机开发。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/03/08/f1c100s%E5%BC%80%E5%8F%91/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/03/01/%E8%A3%85%E6%9C%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Linkua">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Excerpt">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/03/01/%E8%A3%85%E6%9C%BA/" class="post-title-link" itemprop="url">装机</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-03-01 00:00:00" itemprop="dateCreated datePublished" datetime="2024-03-01T00:00:00+08:00">2024-03-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-05-20 13:20:43" itemprop="dateModified" datetime="2024-05-20T13:20:43+08:00">2024-05-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux-Windows/" itemprop="url" rel="index"><span itemprop="name">Linux Windows</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><h4 id="镜像"><a href="#镜像" class="headerlink" title="镜像"></a>镜像</h4><ul>
<li>Ubuntu镜像：官网下载iso</li>
<li>Windows原版镜像: <a target="_blank" rel="noopener" href="https://hellowindows.cn/">https://hellowindows.cn/</a></li>
<li>PE工具：微PE工具箱或者FirPE <a target="_blank" rel="noopener" href="https://firpe.cn/">https://firpe.cn/</a></li>
<li>引导工具：VenToy制作U盘启动盘 <a target="_blank" rel="noopener" href="https://www.ventoy.net/cn/">https://www.ventoy.net/cn/</a></li>
<li>rEFInd:引导工具 <a target="_blank" rel="noopener" href="https://sourceforge.net/projects/refind/files/latest/download">https://sourceforge.net/projects/refind/files/latest/download</a></li>
</ul>
<h3 id="U盘安装方法"><a href="#U盘安装方法" class="headerlink" title="U盘安装方法"></a>U盘安装方法</h3><p>使用Ventoy制作U盘启动盘后，将PE工具的ISO和系统镜像ISO都放入U盘中，<br>电脑重启进入BIOS,选择从U盘启动，再启动系统镜像。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/03/01/%E8%A3%85%E6%9C%BA/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/02/freeRTOS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Linkua">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Excerpt">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/01/02/freeRTOS/" class="post-title-link" itemprop="url">freertos</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-01-02 00:00:01" itemprop="dateCreated datePublished" datetime="2024-01-02T00:00:01+08:00">2024-01-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-05-20 15:33:36" itemprop="dateModified" datetime="2024-05-20T15:33:36+08:00">2024-05-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MCU/" itemprop="url" rel="index"><span itemprop="name">MCU</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="MISRA"><a href="#MISRA" class="headerlink" title="MISRA"></a>MISRA</h2><p>MISRA C是由汽车产业软件可靠性协会（MISRA）提出的C语言开发标准。其目的是在增进嵌入式系统的安全性及可移植性。针对C++语言也有对应的标准MISRA C++。</p>
<p>MISRA C一开始主要是针对汽车产业，不过其他产业也逐渐开始使用MISRA C：包括航天、电信、国防、医疗设备、铁路等领域中都已有厂商使用MISRA C。</p>
<p>MISRA C的第一版《Guidelines for the use of the C language in vehicle based software》是在1998年发行，一般称为MISRA-C:1998.。MISRA-C:1998有127项规则，规则从1号编号到127号，其中有93项是必需要求，其余的34项是推荐使用的规则。</p>
<p>在2004年时发行了第二版的MISRA C的第一版《Guidelines for the use of the C language in critical systems》（或称作MISRA-C:2004），其中有许多重要建议事项的变更，其规则也重新编号。MISRA-C:2004有141项规则，其中121项是必需要求，其余的20项是推荐使用的规则。规则分为21类，从“开发环境”到“运行期错误”。</p>
<p>2012年发布第三版，为当前最新有效的C语言规范版本，称为MISRAC:2012。 </p>
<p>Misra C不能100%保证程序不出问题，但是能尽可能的预防，总结一下，基本上使用Misra C具有以下五个维度的优势：</p>
<p>提升可靠性 提升可读性 提升可移植性 提升可维护性 提升安全性</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/01/02/freeRTOS/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/02/mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Linkua">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Excerpt">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/05/02/mysql/" class="post-title-link" itemprop="url">mysql</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-05-02 00:10:01" itemprop="dateCreated datePublished" datetime="2023-05-02T00:10:01+08:00">2023-05-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-05-20 13:26:37" itemprop="dateModified" datetime="2024-05-20T13:26:37+08:00">2024-05-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="MySQL-简介"><a href="#MySQL-简介" class="headerlink" title="MySQL 简介"></a>MySQL 简介</h3><p>MySQL 最早是由瑞典的 MySQL AB 公司开发的一个开放源码的关系数据库管理系统，该公司于2008年被昇阳微系统公司（Sun Microsystems）收购。在2009年，甲骨文公司（Oracle）收购昇阳微系统公司，因此 MySQL 目前也是 Oracle 旗下产品。</p>
<p>MySQL 在过去由于性能高、成本低、可靠性好，已经成为最流行的开源数据库，因此被广泛地应用于中小型网站开发。随着 MySQL 的不断成熟，它也逐渐被应用于更多大规模网站和应用，比如维基百科、谷歌（Google）、脸书（Facebook）、淘宝网等网站都使用了 MySQL 来提供数据持久化服务。</p>
<p>甲骨文公司收购后昇阳微系统公司，大幅调涨 MySQL 商业版的售价，且甲骨文公司不再支持另一个自由软件项目 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/OpenSolaris">OpenSolaris </a> 的发展，因此导致自由软件社区对于 Oracle 是否还会持续支持 MySQL 社区版（MySQL 的各个发行版本中唯一免费的版本）有所担忧，MySQL 的创始人麦克尔·维德纽斯以 MySQL 为基础，创建了 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/MariaDB">MariaDB</a>（以他女儿的名字命名的数据库）分支。有许多原来使用 MySQL 数据库的公司（例如：维基百科）已经陆续完成了从 MySQL 数据库到 MariaDB 数据库的迁移。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/05/02/mysql/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/03/04/git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Linkua">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Excerpt">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/04/git/" class="post-title-link" itemprop="url">git</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-03-04 00:00:00" itemprop="dateCreated datePublished" datetime="2023-03-04T00:00:00+08:00">2023-03-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-05-20 13:28:40" itemprop="dateModified" datetime="2024-05-20T13:28:40+08:00">2024-05-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="git-命令使用"><a href="#git-命令使用" class="headerlink" title="git 命令使用"></a>git 命令使用</h2><p>开始使用 git 的简易指南<br>更多可以参考: (<a target="_blank" rel="noopener" href="http://book.git-scm.com/">http://book.git-scm.com/</a>)</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/03/04/git/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/03/03/LETV%20IR%20code/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Linkua">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Excerpt">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/03/LETV%20IR%20code/" class="post-title-link" itemprop="url">LETV IR code</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-03-03 00:08:01" itemprop="dateCreated datePublished" datetime="2023-03-03T00:08:01+08:00">2023-03-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-05-20 13:28:40" itemprop="dateModified" datetime="2024-05-20T13:28:40+08:00">2024-05-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MCU/" itemprop="url" rel="index"><span itemprop="name">MCU</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="LETV-IR-code"><a href="#LETV-IR-code" class="headerlink" title="LETV IR code"></a>LETV IR code</h1><p>乐视超级电视曲面x55 Cured的红外解码</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/03/03/LETV%20IR%20code/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/03/02/java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Linkua">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Excerpt">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/02/java/" class="post-title-link" itemprop="url">java</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-03-02 00:00:01" itemprop="dateCreated datePublished" datetime="2023-03-02T00:00:01+08:00">2023-03-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-05-20 13:28:40" itemprop="dateModified" datetime="2024-05-20T13:28:40+08:00">2024-05-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="安装-oracle-jdk"><a href="#安装-oracle-jdk" class="headerlink" title="安装 oracle jdk"></a>安装 oracle jdk</h3><p>尽管现在jdk版本已经更新到17了，但是因为oracle jdk8u202版本后商用收费了，另外，也可以使用高版本的open jdk, Linux从源安装，一般都是自动指向OpenJDK的（免费开源嘛），如果要下载Oracle JDK一般需要手动下载。这边安装奇数版本jdk8u201,官网下载，需要注册&#x2F;登录帐号，<br><a target="_blank" rel="noopener" href="https://www.oracle.com/java/technologies/downloads/archive/">https://www.oracle.com/java/technologies/downloads/archive/</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/03/02/java/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/27/linuxdeploy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Linkua">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Excerpt">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/27/linuxdeploy/" class="post-title-link" itemprop="url">linux deploy</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-01-27 00:00:01" itemprop="dateCreated datePublished" datetime="2023-01-27T00:00:01+08:00">2023-01-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-04-25 14:48:12" itemprop="dateModified" datetime="2024-04-25T14:48:12+08:00">2024-04-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="google-play"><a href="#google-play" class="headerlink" title="google play"></a>google play</h3><p>可以直接获取并下载Google Play APK的镜像站<br>Google Play官网：<a target="_blank" rel="noopener" href="https://play.google.com/store">https://play.google.com/store</a></p>
<p>1、可以直接搜索应用名并下载的，但需要爬Q<br><a target="_blank" rel="noopener" href="http://apkleecher.com/">http://apkleecher.com/</a><br><a target="_blank" rel="noopener" href="http://apk-dl.com/">http://apk-dl.com/</a><br><a target="_blank" rel="noopener" href="https://apkpure.com/">https://apkpure.com/</a><br>2、需要输入Google Play链接或者包名<br><a target="_blank" rel="noopener" href="http://www.apksmart.com/">http://www.apksmart.com/</a><br><a target="_blank" rel="noopener" href="https://tingyuan.me/apkdownload/">https://tingyuan.me/apkdownload/</a><br><a target="_blank" rel="noopener" href="https://androidappsapk.co/apkdownloader/">https://androidappsapk.co/apkdownloader/</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/01/27/linuxdeploy/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Linkua</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Linkua</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
